### 模块2：变量更新规则定义

本模块专门负责定义变量的更新规则。这些规则与模块1的变量初始化分离，提供清晰的变量行为逻辑定义。

更新规则采用YAML格式，为每个变量定义其类型、范围和检查条件。

### YAML 格式规范

请根据以下模板格式，为模块1中定义的变量制定更新规则：

### 示例模板

<example>
```yaml
---
变量更新规则:
  ${变量名}:
    type: ${变量类型，要么是基础类型，要么是对象，要么是数组，甚至可以是typescript的类型定义（使用|-字符串块）}
    range: ${范围和变化限制，如：capped in 0~100 and remains unchange when it's 100}
    check:
      - ${该变量更新时需要检查的更新规则，如：update it by ±(3~6) according to characters' attitudes towards <user>'s behavior respectively only if they're currently aware of it}
      - ...$(根据Explorer的描述确定需要几个check，尽量简练，不要过于扩展情况)
      
  日期:
    type: string
    range: 格式为 mm月dd日，根据故事时间推进
    check:
      - 当故事时间推进时更新，通常在一天结束或新的一天开始时

  时间:
    type: string
    range: 格式为 hh:mm，24小时制
    check:
      - 每次行动或事件后根据实际经历的时间更新
      - 重大事件可能导致时间跳跃

  user:
    身份:
      type: string
      range: 描述性字符串，反映当前社会地位或职业
      check:
        - 完成特定任务或达成某些成就后更新
        - 重要剧情节点可能改变身份认知

    当前位置:
      type: string
      range: 具体地点名称
      check:
        - 当user移动到新区域时立即更新
        - 跟随user的移动行为

    重要经历:
      type: string
      range: 累积性记录，保留历史信息
      check:
        - 与核心人物发生重要互动时添加记录
        - 参与关键事件时添加记录
        - 采用追加方式，不覆盖之前的经历

    与理的好感度:
      type: number
      range: capped in -100~100
      check:
        - update it by ±(3~6) according to character '理''s attitudes towards user's behavior only if '理' is currently aware of it
        - 积极互动（帮助、关心、理解）增加好感度
        - 消极互动（伤害、忽视、误解）减少好感度

  理:
    当前位置:
      type: string
      range: 具体地点名称
      check:
        - 根据剧情需要和角色行为逻辑移动
        - 可能跟随user或有独立的移动模式

    情绪状态:
      pleasure:
        type: number
        range: capped in -1~1, -1极端痛苦，0中性，1极端喜悦
        check:
          - 正面事件和互动提升数值
          - 负面事件和冲突降低数值
          - 根据事件强度调整变化幅度

      arousal:
        type: number
        range: capped in -1~1, 代表生理或情绪上的激动程度
        check:
          - 刺激性、紧张或兴奋的事件提升数值
          - 平静、放松的情况降低数值
          - 与具体情境和角色反应相关

    当前所想:
      type: string
      range: 反映角色当前心理状态的思考内容
      check:
        - 每次重要互动后更新
        - 反映当前情绪状态和外部刺激
        - 体现角色的性格特点和当前关注点

  世界:
    当前事件阶段:
      type: number
      range: 整数，标记主要故事的进展阶段
      check:
        - 完成重要剧情节点时递增
        - 每个阶段对应不同的故事状态
        - 影响其他变量的行为模式

    天气:
      type: string
      range: 天气状况描述（晴朗、多云、小雨、雷暴、浓雾等）
      check:
        - 根据剧情需要和氛围要求更新
        - 可能影响角色行为和事件发生
        - 一般不频繁变化，除非有特殊剧情需要
```
</example>

### 输出要求

1. 主要内容：响应的主体部分应为完整的YAML格式变量更新规则定义。

2. 变量覆盖：
   - 应覆盖模块1中定义的所有变量
   - 确保每个变量都有完整的更新规则定义
   - 根据项目需求可以调整变量的更新逻辑

3. 规则设计原则：
   - type: 明确变量的数据类型
   - range: 定义变量的取值范围和约束条件
   - check: 列出触发变量更新的具体条件和规则

4. 附加说明：在YAML数据块之后，提供以下信息：

   a. 使用方式："此更新规则文件用于指导AI模型在何时以及如何更新变量。应与模块1（变量初始化）和模块3（变量处理指令集）配合使用。"

   b. 修改指南："如需修改某个变量的更新规则，请找到对应的变量路径，编辑其type、range或check部分。check部分可以包含多个条件，每个条件占一行。"

   c. 集成说明："此规则文件应在模块3（变量处理指令集）中被引用，为AI提供明确的变量更新指导。通过模块化设计，实现了初始化、规则定义和指令执行的清晰分离。"

### CLI指令

生成内容后，请使用Write工具将YAML规则定义保存到 `变量更新规则.xyaml` 文件中。