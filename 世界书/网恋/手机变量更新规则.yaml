---
变量更新规则:
  手机数据:
    当前时间:
      type: string
      range: 格式化的日期时间字符串，如 "YYYY-MM-DD HH:mm:ss"
      check:
        - 必须与"世界.当前时间"保持一致，格式不一样但时间点必须相同
        - 每次"世界.当前时间"更新时，"手机数据.当前时间"也必须同步更新
        - 不单独更新，始终跟随"世界.当前时间"的时间点

    用户:
      type: object
      range: 包含用户基本信息的对象
      check:
        - 运行时不可修改，保持初始值不变

      昵称:
        type: string
        range: 字符串，用户昵称
        check:
          - 运行时不可修改，保持初始值不变

      头像描述:
        type: string
        range: 字符串，用户头像描述
        check:
          - 运行时不可修改，保持初始值不变

      空间动态:
        description: 参考联系人动态结构和规则

    联系人:
      type: object
      range: 动态扩展的对象集合，KEY为{{联系人名称}}，支持添加新联系人
      check:
        - 遇到新角色时添加联系人条目
        - 使用{{联系人名称}}作为对象KEY
        - 按照现有模板初始化新联系人信息
        - 保持已有联系人数据不变

      联系人对象(对应{{联系人名称}}的值):
        昵称:
          type: string
          range: 字符串，角色之间的称呼
          check:
            - 关系变化时可能更新昵称
            - 角色主动要求修改时更新
            - 一般保持相对稳定

        签名:
          type: string
          range: 个性签名或状态描述
          check:
            - 角色心情或状态重大变化时更新
            - 定期更新以反映当前生活状态
            - 体现角色的性格特点和当前关注

        头像:
          type: string
          range: URL字符串或标识符
          check:
            - 运行时不可修改，保持初始值不变

        头像描述:
          type: string
          range: 字符串，头像描述
          check:
            - 运行时不可修改，保持初始值不变

        聊天记录:
          type: object
          range: 按格式化时间字符串索引的消息对象集合，KEY为{{发送消息的时间}}
          check:
            - 每次对话时添加新的时间消息条目
            - 使用{{发送消息的时间}}作为对象KEY
            - KEY值必须严格参考"手机数据.当前时间"，确保时间点与故事时间线一致
            - 确保消息时间不早于上一条消息，不晚于当前时间
          description: |
            消息的时间戳必须与故事时间线保持一致，避免出现"未来的消息"或时间逻辑混乱。

          消息对象(对应{{发送消息的时间}}的值):
            is_user:
              type: boolean
              range: 布尔值，true表示用户消息，false表示角色消息
              check:
                - 根据消息发送者身份设定
                - 用户发送的消息设为true
                - 角色发送的消息设为false

            message:
              type: string
              range: 字符串，消息内容
              check:
                - 包含实际对话文本内容
                - 保持角色语言风格一致性
                - 根据情境和角色性格编写内容

        空间动态:
          type: array
          range: 动态数组，包含动态对象
          check:
            - 角色发布新动态时在数组中添加元素
            - 每个动态包含时间（格式化时间字符串）、内容（字符串）、评论列表（数组）
            - 保持历史动态记录不变

          动态对象:
            时间:
              type: string
              range: 格式化的日期时间字符串
              check:
                - 发布动态时参考"手机数据.当前时间"的时间点（即"世界.当前时间"）
                - 确保动态发布时间不晚于当前时间

            内容:
              type: string
              range: 文本内容，描述动态信息
              check:
                - 根据角色当前状态和活动编写内容
                - 体现角色性格和当前关注点
                - 保持语言风格一致性

            评论列表:
              type: array
              range: 动态扩展的评论对象集合
              check:
                - 其他角色或用户评论时添加新评论对象
                - 每个评论包含ID字符串和发言内容字符串
                - 使用{{user}}标识用户评论
                - 保持已有评论记录不变

              评论对象:
                ID:
                  type: string
                  range: 评论者标识符，使用{{评论者ID}}
                  check:
                    - 使用{{评论者ID}}作为标识
                    - 用户评论时使用{{user}}
                    - 角色评论时使用角色名称

                发言内容:
                  type: string
                  range: 评论文本内容
                  check:
                    - 根据评论者角色特点编写内容
                    - 回应动态内容或其他评论
                    - 保持角色语言风格一致性
