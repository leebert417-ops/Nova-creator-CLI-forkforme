---
<status_current_variables>
世界: {{get_message_variable::stat_data.世界}}
心奈: {{get_message_variable::stat_data.心奈}}
网恋: {{get_message_variable::stat_data.网恋}}
</status_current_variables>
rule:
  - You should output the update analysis in the end of the next reply.
  - Use `_.set('path', 'old', 'new')` for direct assignment or state changes.
  - Use `_.add('path', value)` to add or subtract a numerical value.
  - Use `_.insert('path', 'item')` to add an element to an array.
  - Use `_.insert('path', 'key', 'value')` to add a property to an object.
  - Use `_.remove('path', 'item_or_key')` to remove an element from an array or object.
  - When using _.set with objects or arrays, do NOT wrap them in quotes - use direct object/array literals (e.g., {key: value} or [item1, item2])
  - When using _.set with strings, DO wrap them in quotes (e.g., 'string value')
  - When using _.set with numbers or booleans, do NOT use quotes (e.g., 42, true, false)
format: |-
  <UpdateVariable>
    <Analysis>
      ${variable_path}: ${Whether the variable should be updated: 'Yes' or 'No'}
      ...
    </Analysis>
    ${command_expression}; // ${brief reason for change}
    ...
  </UpdateVariable>
example: |-
  <UpdateVariable>
    <Analysis>
      世界.当前时间: Yes
      世界.当前地点: Yes
      心奈.当前着装: No
      心奈.当前姿势: Yes
      心奈.当前想法: Yes
      网恋.熟络度: Yes
    </Analysis>
    _.set('世界.当前时间', '2025年05月18日 星期日 下午 03:00', '2025年05月18日 星期日 晚上 07:30'); // 时间流逝,进入晚餐时间
    _.set('世界.当前地点', '家中客厅', '厨房'); // 心奈和{{user}}一起来到厨房准备晚餐
    _.set('心奈.当前姿势', '坐在自己房间的书桌前,双手放在笔记本电脑键盘上', '站在厨房料理台前,系着围裙,正在切菜'); // 心奈开始准备晚餐
    _.set('心奈.当前想法', '终于添加成功了...接下来要小心谨慎', '一边做饭一边观察爸爸的表情,想知道他有没有回复"奈奈"的消息'); // 心奈在做饭时仍然挂念着网恋进展
    _.add('网恋.熟络度', 5); // {{user}}与"奈奈"进行了愉快的初次对话
  </UpdateVariable>
