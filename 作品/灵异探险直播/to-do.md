# 角色卡创作任务清单

> 💡 **使用说明**：此文件由任务清单生成器自动生成，在创作过程中可以随时更新和调整。

> 📁 **文件组织建议**：
> - 请在 `作品` 目录下创建一个名为 `灵异探险直播` 的文件夹
> - 将此 to-do.md 文件放入该文件夹
> - 后续创作的所有相关文件（背景设定、角色卡、开场白等）也都放入此文件夹中
> - 这样可以保持项目文件的整洁和有序

---

## 基本信息

**作品名称：** 灵异探险直播

**作品类型：** 现代都市、灵异探险

---

## 创作任务清单

### ✅ 第一步：世界观构建

**背景设定需求：**
- [x] 需要
- [ ] 不需要

**背景类型：**
- [ ] 世界观设定
- [x] 国家/城市/地点设定
- [ ] 历史背景设定
- [ ] 社会结构设定
- [ ] 魔法系统设定
- [ ] 科技系统设定
- [x] 游戏规则设定
- [ ] 势力组织设定
- [ ] 经济贸易设定
- [ ] 文化风俗设定

**背景设定大纲：**
```
- 时代：现代
- 地点：以中国为背景的国家“华国”，城市分布和地理文化等均相同
- 规则：这个世界一些特殊的地方存在“灵异事件”，但所有灵异事件都遵循“不直接影响现实世界”和“范围局限”的规则，即灵异事件只能通过制造幻觉、暗示、梦境等心理恐怖来影响人类，而不能造成实体形态、位置等的改变，且大部分灵异事件都局限在较小的特殊区域中，少数灵异事件可以通过特定的“媒介”传播，但也不能脱离“媒介”的影响范围，因此但大部分人不相信灵异事件的存在。
- 故事背景：小博主{{user}}应粉丝的要求在深夜来到了一座远离人烟的废弃医院，传言这里有“灵异事件”存在。
```

**参考模板：** `基础模板/Z.1.背景模板.md`

---

### ✅ 第二步：角色设定

**主要角色数量：** 1

#### 角色 1

**角色名称：** _[待填写]_

**角色定位：**
- [ ] 主角（NPC）
- [ ] 重要配角
- [ ] 普通 NPC

**人物设定大纲：**
_[待填写]_

**参考模板：** `基础模板/Z.2.人物模板.md`

---

### ✅ 第三步：开场白

**开场白需求：**
- [x] 需要
- [ ] 不需要

**开场场景：** 探险

**目标篇幅：**
- [ ] 简单场景（300-500字）
- [x] 标准场景（500-800字）
- [ ] 复杂场景（800-1500字）

**开场白大纲：**
```
- 场景：夜晚，远离人烟的山区废弃医院
- 事件：作为废墟探险博主的{{user}}来到这里进行探险直播，他站在废弃医院门口即将进入，直播已经打开
- 氛围：营造灵异恐怖的氛围
- 内心：{{user}}不相信灵异事件的存在
```

**参考模板：** `基础模板/Z.3.开场白.md`

---

### ✅ 第四步：对话补充（可选）

**是否需要对话补充：**
- [ ] 需要
- [x] 不需要

**对应角色：** _[待填写]_

**场景需求：**
- [ ] 日常闲聊
- [ ] 紧张时刻
- [ ] 战斗场景
- [ ] 亲密互动
- [ ] 情绪波动（高兴/愤怒/悲伤）

**参考模板：** `基础模板/Z.4.对话补充.md`

---

### ✅ 第五步：角色采访（可选）

**是否需要角色采访：**
- [ ] 需要
- [x] 不需要

**对应角色：** _[待填写]_

**采访主题：**
_[待填写]_

**参考模板：** `基础模板/Z.5.角色采访.md`

---

### ✅ 第六步：玩家角色设定（可选）

**是否需要玩家设定：**
- [x] 需要
- [ ] 不需要

**设定深度：**
- [x] 极简设定（最大自由度）
- [ ] 简化设定（有基本框架）
- [ ] 完整设定（明确背景和性格）

**玩家角色大纲：**
```
- 身份：刚毕业的大学生
- 职业：探险博主，从大学期间就开始做探险视频，流量低，未盈利
- 背景：名校毕业，家庭环境优渥，可以支撑探险的支出
- 性格：大胆、冷静，不相信灵异事件的存在
```

**参考模板：** `基础模板/Z.6.玩家模板.md`

---

### ✅ 第七步：MVU 组件包（可选）

**是否使用 MVU 组件包：**
- [x] 需要
- [ ] 不需要

**组件选择：**
- [ ] 变量初始化条目（稳定版）
- [x] 变量初始化条目（Beta版）
- [x] 变量更新规则
- [ ] 变量处理指令集（稳定版）
- [x] 变量处理指令集（Beta版）
- [x] 分阶段角色设定
- [ ] 动态世界内容
- [x] HTML状态栏

**需要追踪的变量：**

1. **地点日期时间天气**：字符变量，故事世界目前的地点、日期、时间、天气，以“地点，年/月/日，上午（其他时间段）几时，天气”的形式显示，每个字段前配上符合其含义的emo表情符号，随故事世界的推进而变化
2. **理智值**：数值范围0-100，{{user}}目前的理智值，影响{{user}}行动的准确性，数值越低，越容易产生行动失误，且数值越低，越容易遇到灵异事件，对灵异事件的感知也更真实（难以判断自身所处的环境）。当{{user}}长期未休息、受到惊吓等时会降低，当{{user}}获得足够休息、受到安慰或开导等时会上升，需要注意的是理智值不会自然降低到0，只有被“灵异”完全入侵心智时才会变为0
3. **认知环境**：字符变量，在“现实、幻域、幻境、残梦”四个状态变换，是{{user}}认为的自身所处的环境，现实不做解释；“幻域”是指依旧在现实中活动但会产生幻觉；“幻境”是指不在现实世界，处于纯虚幻的世界中，只有意识会进入，身体处于失神或休眠状态；“残梦”是指不完整、模糊化的梦境，往往是快速变换的场景，与“灵异”的接触越多越容易进入这种状态，是身体本能的警告，往往可以窥探到未来的“不幸”。当{{user}}对自身所处环境做出判断时根据判断结果变化

**分阶段角色设定说明：**
```
- 理智值80-100：{{user}}的精神状态良好，难以被“灵异”影响，可以准确判断所处环境
- 理智值60-79：{{user}}的精神状态略差，可能被“灵异”钻空子，可以很好的判断所处环境
- 理智值40-59：{{user}}的精神状态差，时不时会碰到“灵异事件”，可以较好的判断所处环境
- 理智值20-39：{{user}}陷入了恐慌，容易遇到“灵异事件”，较难判断所处环境
- 理智值1-19：{{user}}处于极度恐慌的状态，极易碰到“灵异事件”，难以判断所处环境
- 理智值0：{{user}}失去了理智，被“灵异”纠缠，对“灵异事件”不设防，无法判断所处环境
```

**动态世界内容说明：**
_[待填写]_

**HTML 状态栏显示需求：**
```
- 现实世界“地点日期时间天气”
- 显示{{user}}的理智值，0-100从深红色变为绿色
- 显示“认知环境”，为每种环境设置符合要求的图标
```

**其他特殊说明：**
_[待填写]_

**参考模板：** `MVU组件包/` 目录下的相关文件

---

## 额外需求

**特殊要求或补充说明：**
```
- 在故事进行中应该避免直接提到所有真实国家、城市、名人的名称
- 当{{user}}的理智值归0时，输出结局“{{user}}陷入了沉沦，变成了无意识的傀儡，或者说“它”已经成为了灵异……”
```

---

## 创作进度跟踪

- [ ] 背景设定完成
- [ ] 角色设定完成
- [ ] 开场白完成
- [ ] 对话补充完成（如需要）
- [ ] 角色采访完成（如需要）
- [ ] 玩家角色完成（如需要）
- [ ] MVU 组件包配置完成（如需要）
- [ ] 编写打包配置文件
- [ ] 运行打包程序生成角色卡

---

## 📦 角色卡打包说明

完成所有创作内容后，需要使用打包程序将文件整合成 SillyTavern 可导入的角色卡 JSON 文件。

### 第一步：编写配置文件

在项目根目录创建一个 YAML 配置文件（例如：`灵异探险直播.yaml`），内容参考以下格式：

```yaml
# 基础信息
name: 灵异探险直播
creator: ""
character_version: ""

# 主要字段映射
fields:
  description: 作品/灵异探险直播/角色设定_主角名.xyaml
  personality: ""
  scenario: ""
  first_mes: 作品/灵异探险直播/开场白.md
  mes_example: ""
  creator_notes: ""
  system_prompt: ""
  post_history_instructions: ""

# 扩展字段
extensions:
  talkativeness: "0.5"
  fav: false
  world: 灵异探险直播
  status_bar: 作品/灵异探险直播/状态栏.html  # 可选

# 角色书配置
character_book:
  name: 灵异探险直播
  entries:
    # [InitVar]初始化条目
    - comment: "[InitVar]初始化"
      content: 作品/灵异探险直播/变量初始化_beta.xyaml
      enabled: false
      position: before_char
      insertion_order: 100
      depth: 4
      role: 0

    # 变量更新规则
    - comment: "变量更新规则"
      content: 作品/灵异探险直播/变量更新规则.xyaml
      enabled: true
      position: at_depth
      insertion_order: 1
      depth: 1
      role: 0

    # 变量处理指令集
    - comment: "变量处理指令集"
      content: 作品/灵异探险直播/变量处理指令集_beta.xyaml
      enabled: true
      position: at_depth
      insertion_order: 2
      depth: 1
      role: 0

    # 背景设定
    - comment: "背景设定"
      content: 作品/灵异探险直播/背景设定.xyaml
      enabled: true
      position: before_char
      insertion_order: 1
      depth: 4
      role: 0

    # 玩家角色
    - comment: "玩家角色_{{user}}"
      content: 作品/灵异探险直播/玩家角色_{{user}}.xyaml
      enabled: true
      position: before_char
      insertion_order: 2
      depth: 4
      role: 0

    # 其他设定条目（可添加多个）
    - comment: "其他设定条目1"
      content: 作品/灵异探险直播/其他设定1.xyaml
      enabled: true
      position: after_char
      insertion_order: 1
      depth: 4
      role: 0
```

**配置说明：**

- `name`: 角色卡名称
- `fields`: 各个字段对应的文件路径，空字符串 `""` 表示该字段为空
- `extensions.status_bar`: 状态栏HTML文件路径（可选）
- `character_book.entries`: 角色书条目列表
  - `comment`: 条目名称
  - `content`: 条目内容对应的文件路径
  - `position`: 插入位置（`before_char`/`after_char`/`at_depth`）
  - `insertion_order`: 插入顺序（数字越小越靠前）
  - `depth`: 深度值（1-4）
  - `role`: 角色类型（0=系统，1=用户，2=AI）

**参考示例：** `config.example.yaml`

### 第二步：运行打包程序

确保已安装 Node.js 和依赖包，然后在项目根目录运行：

```bash
# 首次使用需要安装依赖
npm install

# 运行打包程序
node build-card.js 灵异探险直播.yaml
```

程序会自动读取配置文件，整合所有内容，生成 `灵异探险直播.json` 文件。

---

## 版本记录

**v1.0** - 2025-10-16 - 初始版本创建

---

> 💾 **提示**：建议使用 Git 进行版本管理，每完成一个重要阶段就提交一次，方便回溯和对比不同版本。
